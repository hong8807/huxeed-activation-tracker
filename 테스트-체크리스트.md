# 로그인 & 관리자 시스템 테스트 체크리스트

**테스트 날짜**: 2025-11-07
**테스터**: ___________

---

## 📋 사전 준비

### 1. 개발 서버 실행 확인
- [ ] http://localhost:3000 접속 가능
- [ ] 콘솔에 에러 없음

### 2. Supabase 데이터 확인
- [ ] `users` 테이블에 공용 계정 존재 (`huxeed@huxeed.com`)
- [ ] 공용 계정 비밀번호 설정됨 (`Huxeed2025!`)
- [ ] `users` 테이블에 관리자 계정 존재 (있다면)

---

## ✅ Test Suite 1: 공용 계정 로그인

### 1.1 기본 로그인 프로세스
- [ ] **http://localhost:3000/login** 접속 성공
- [ ] 로그인 페이지 UI 정상 표시
  - [ ] 로고 표시
  - [ ] "Huxeed V-track" 타이틀
  - [ ] Vision 문구 표시
  - [ ] 이메일 입력 필드
  - [ ] 비밀번호 입력 필드
  - [ ] 로그인 버튼

### 1.2 공용 계정 로그인
- [ ] 이메일 입력: `huxeed@huxeed.com`
- [ ] 비밀번호 입력: `Huxeed2025!`
- [ ] "로그인" 버튼 클릭
- [ ] 로딩 상태 표시 ("로그인 중...")

### 1.3 접속자명 입력 모달
- [ ] 접속자명 입력 모달 오픈
- [ ] 모달 제목: "접속자 성함 입력"
- [ ] 입력 필드 표시
- [ ] 실명 입력: `홍길동`
- [ ] "확인" 버튼 클릭

### 1.4 로그인 성공 확인
- [ ] Dashboard 페이지로 리다이렉트 (http://localhost:3000/dashboard)
- [ ] 페이지 정상 로드
- [ ] 에러 없음

### 1.5 사이드바 로그인 정보 확인
- [ ] 사이드바 하단에 사용자 정보 표시
- [ ] 아바타 표시 (첫 글자 "H")
- [ ] 이름 표시: `홍길동`
- [ ] 이메일 표시: `huxeed@huxeed.com`
- [ ] **"공용 계정" 라벨 표시** (파란색)
- [ ] Logout 버튼 표시

### 1.6 로그아웃
- [ ] "Logout" 버튼 클릭
- [ ] 로그인 페이지로 리다이렉트
- [ ] 세션 쿠키 삭제됨

---

## ✅ Test Suite 2: 관리자 계정 (있는 경우)

### 2.1 관리자 로그인
- [ ] 로그인 페이지 접속
- [ ] 관리자 이메일 입력
- [ ] 관리자 비밀번호 입력
- [ ] "로그인" 버튼 클릭
- [ ] **접속자명 모달 표시 안 됨** (관리자는 바로 Dashboard)
- [ ] Dashboard로 리다이렉트

### 2.2 사이드바 확인
- [ ] 사용자 정보 표시
- [ ] 이름 표시 (이메일 @ 앞부분)
- [ ] 이메일 표시
- [ ] **"공용 계정" 라벨 없음**
- [ ] 구분선 표시
- [ ] **"Admin Settings" 메뉴 표시** (톱니바퀴 아이콘)

### 2.3 Admin Settings 접근
- [ ] "Admin Settings" 메뉴 클릭
- [ ] http://localhost:3000/admin/settings 페이지 이동
- [ ] 페이지 정상 로드

---

## ✅ Test Suite 3: 관리자 설정 페이지

### 3.1 페이지 기본 구조
- [ ] "관리자 설정" 타이틀 표시
- [ ] 2개 탭 표시
  - [ ] "공용 계정 비밀번호" 탭
  - [ ] "메일 수신자 관리" 탭

### 3.2 공용 비밀번호 변경 탭

#### 3.2.1 UI 확인
- [ ] "공용 계정 비밀번호" 탭 선택됨 (기본)
- [ ] 제목: "공용 계정 비밀번호 변경"
- [ ] 설명 문구 표시
- [ ] "새 비밀번호" 입력 필드
- [ ] "비밀번호 확인" 입력 필드
- [ ] "비밀번호 변경" 버튼
- [ ] 안내 문구 (메일 발송 향후 구현)

#### 3.2.2 유효성 검증 테스트
**테스트 1: 빈 비밀번호**
- [ ] 비밀번호 입력하지 않고 "비밀번호 변경" 클릭
- [ ] 에러 메시지: "새 비밀번호를 입력해주세요"

**테스트 2: 짧은 비밀번호**
- [ ] 새 비밀번호: `test123` (7자)
- [ ] "비밀번호 변경" 클릭
- [ ] 에러 메시지: "비밀번호는 최소 8자 이상이어야 합니다"

**테스트 3: 비밀번호 불일치**
- [ ] 새 비밀번호: `TestPassword2025!`
- [ ] 비밀번호 확인: `TestPassword2026!`
- [ ] "비밀번호 변경" 클릭
- [ ] 에러 메시지: "비밀번호가 일치하지 않습니다"

#### 3.2.3 비밀번호 변경 성공
- [ ] 새 비밀번호: `NewPassword2025!`
- [ ] 비밀번호 확인: `NewPassword2025!`
- [ ] "비밀번호 변경" 버튼 클릭
- [ ] 로딩 상태 표시 ("변경 중...")
- [ ] 성공 메시지: "✅ 공용 계정 비밀번호가 성공적으로 변경되었습니다"
- [ ] 입력 필드 초기화됨

#### 3.2.4 새 비밀번호로 로그인 테스트
- [ ] 로그아웃
- [ ] 로그인 페이지 이동
- [ ] 이메일: `huxeed@huxeed.com`
- [ ] **새 비밀번호: `NewPassword2025!`**
- [ ] 로그인 성공
- [ ] Dashboard 접근 가능

### 3.3 메일 수신자 관리 탭

#### 3.3.1 UI 확인
- [ ] "메일 수신자 관리" 탭 클릭
- [ ] 제목: "메일 수신자 관리"
- [ ] 설명 문구 표시
- [ ] "새 수신자 추가" 폼 표시
  - [ ] 이메일 입력 필드
  - [ ] 이름 입력 필드
  - [ ] "추가" 버튼

#### 3.3.2 수신자 추가
**테스트 1: 이메일만 입력**
- [ ] 이메일: `test1@company.com`
- [ ] 이름: (비워둠)
- [ ] "추가" 버튼 클릭
- [ ] 목록에 추가됨
- [ ] 이메일 표시
- [ ] 이름 없음
- [ ] [활성] 상태 표시
- [ ] [삭제] 버튼 표시

**테스트 2: 이메일 + 이름 입력**
- [ ] 이메일: `test2@company.com`
- [ ] 이름: `김철수`
- [ ] "추가" 버튼 클릭
- [ ] 목록에 추가됨
- [ ] 이메일 표시
- [ ] 이름 표시: `김철수`
- [ ] [활성] 상태 표시

**테스트 3: 중복 이메일**
- [ ] 이메일: `test1@company.com` (이미 추가됨)
- [ ] "추가" 버튼 클릭
- [ ] 에러 메시지 표시 (중복 이메일)

#### 3.3.3 수신자 삭제
- [ ] 첫 번째 수신자의 [삭제] 버튼 클릭
- [ ] 확인 다이얼로그 표시
- [ ] "확인" 클릭
- [ ] 목록에서 삭제됨
- [ ] 목록 자동 갱신

---

## ✅ Test Suite 4: 동시 접속 테스트

### 4.1 브라우저 A (Chrome)
- [ ] http://localhost:3000/login 접속
- [ ] 공용 계정 로그인
- [ ] 접속자명: `홍길동`
- [ ] Dashboard 접근
- [ ] 사이드바에 "홍길동" 표시

### 4.2 브라우저 B (Edge 또는 시크릿 모드)
- [ ] http://localhost:3000/login 접속
- [ ] 공용 계정 로그인
- [ ] 접속자명: `김철수`
- [ ] Dashboard 접근
- [ ] 사이드바에 "김철수" 표시

### 4.3 독립성 확인
- [ ] 두 브라우저 모두 정상 작동
- [ ] 각자 독립적인 세션
- [ ] 서로 영향 없음

---

## ✅ Test Suite 5: 권한 검증

### 5.1 공용 계정으로 Admin Settings 접근 시도
- [ ] 공용 계정으로 로그인
- [ ] 사이드바에 "Admin Settings" 메뉴 **표시 안 됨**
- [ ] URL 직접 입력: http://localhost:3000/admin/settings
- [ ] 403 Forbidden 또는 접근 불가 (확인 필요)

### 5.2 비로그인 상태 접근 시도
- [ ] 로그아웃
- [ ] URL 직접 입력: http://localhost:3000/dashboard
- [ ] 로그인 페이지로 리다이렉트
- [ ] URL 직접 입력: http://localhost:3000/admin/settings
- [ ] 로그인 페이지로 리다이렉트

---

## ✅ Test Suite 6: Supabase 데이터 확인

### 6.1 users 테이블
- [ ] Supabase Dashboard → Table Editor → users
- [ ] 공용 계정의 password_hash 업데이트됨 (새 비밀번호)
- [ ] updated_at 타임스탬프 갱신됨

### 6.2 password_history 테이블
- [ ] Supabase Dashboard → Table Editor → password_history
- [ ] 새 레코드 생성됨
- [ ] user_email: `huxeed@huxeed.com`
- [ ] changed_by: `admin`
- [ ] is_notified: `false`
- [ ] changed_at 타임스탬프 정확

### 6.3 email_subscribers 테이블
- [ ] Supabase Dashboard → Table Editor → email_subscribers
- [ ] 추가한 수신자 레코드 존재
- [ ] 삭제한 수신자 레코드 없음
- [ ] is_active: `true`

---

## 🐛 버그 리포트

### 발견된 버그
| No | 페이지/기능 | 증상 | 재현 방법 | 우선순위 |
|----|-------------|------|-----------|----------|
| 1  |             |      |           | High/Medium/Low |
| 2  |             |      |           |          |
| 3  |             |      |           |          |

### 개선 사항
| No | 페이지/기능 | 제안 사항 | 우선순위 |
|----|-------------|-----------|----------|
| 1  |             |           | High/Medium/Low |
| 2  |             |           |          |

---

## 📝 테스트 결과 요약

### 통과율
- Test Suite 1 (공용 계정 로그인): _____ / 6
- Test Suite 2 (관리자 계정): _____ / 3
- Test Suite 3 (관리자 설정): _____ / 11
- Test Suite 4 (동시 접속): _____ / 3
- Test Suite 5 (권한 검증): _____ / 2
- Test Suite 6 (Supabase 데이터): _____ / 3

**전체 통과율**: _____ / 28 (_____ %)

### 최종 판정
- [ ] ✅ **모든 테스트 통과** - 다음 기능 구현 진행
- [ ] ⚠️ **일부 실패** - 버그 수정 필요
- [ ] ❌ **주요 실패** - 재구현 필요

### 테스터 의견
```
(여기에 의견 작성)
```

---

## 🚀 다음 단계

테스트 통과 후 구현할 기능:

### Phase 2: 메일 발송 기능
- [ ] Resend API 연동
- [ ] 메일 템플릿 작성
- [ ] 비밀번호 변경 시 자동 메일 발송
- [ ] password_history is_notified 업데이트

### 예상 작업 시간
- API 연동: 1시간
- 템플릿 작성: 30분
- 테스트: 30분
- **총 예상**: 2시간

---

**작성자**: Claude
**작성일**: 2025-11-07
